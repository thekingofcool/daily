<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" /><meta name="description" content="you're too slow and have no rhythm. 
" />
    <meta property="og:title" content="Day 5a - Agent2Agent Communication" />
    <meta property="og:description" content="you're too slow and have no rhythm. 
" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://thekingof.cool/thoughts/2025/11/14/day-5a-agent2agent-communication.html" />
    <meta property="og:image" content="https://thekingof.cool/assets/images/android-chrome-512x512.png" /><title>Day 5a - Agent2Agent Communication</title><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="thekingofcool&apos;s daily thoughts" /><link rel="icon" href="/assets/images/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/assets/images/android-chrome-192x192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="/assets/images/android-chrome-512x512.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon-16x16.png">
  <link rel="manifest" href="/assets/images/site.webmanifest">
  <link href="/assets/css/syntax_monokai.css" rel="stylesheet"/>
  <link rel="stylesheet" href="/assets/css/main.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body a="light">
    <main class="page-content" aria-label="Content">
      <div class="w">
        <a href="/"><-</a><article>
  <h1>Day 5a - Agent2Agent Communication</h1>
  <p class="post-meta">
    <span style="float: left;">thekingofcool</span>
    <time datetime="2025-11-14 00:00:00 +0800" style="float: right;">2025-11-14</time>
  </p>
  <div style="clear: both;"></div>
  <h1 id="-agent2agent-a2a-communication-with-adk">ğŸ¤ Agent2Agent (A2A) Communication with ADK</h1>

<p><strong>Welcome to the Kaggle 5-day Agents course!</strong></p>

<p>This notebook teaches you how to build <strong>multi-agent systems</strong> where different agents can communicate and collaborate using the <strong>Agent2Agent (A2A) Protocol</strong>. Youâ€™ll learn how to integrate with external agent services and consume remote agents as if they were local.</p>

<p>In this notebook, youâ€™ll:</p>

<ul>
  <li>Understand the A2A protocol and when to use it vs sub-agents</li>
  <li>Learn common A2A architecture patterns (cross-framework, cross-language, cross-organization)</li>
  <li>Expose an ADK agent via A2A using <code class="language-plaintext highlighter-rouge">to_a2a()</code></li>
  <li>Consume remote agents using <code class="language-plaintext highlighter-rouge">RemoteA2aAgent</code></li>
  <li>Build a product catalog integration system</li>
</ul>

<h2 id="-overview-of-agent2agent-a2a">ğŸ“š Overview of Agent2Agent (A2A)</h2>

<h3 id="-the-problem">ğŸ¤” The Problem</h3>

<p>As you build more complex AI systems, youâ€™ll find that:</p>
<ul>
  <li><strong>A single agent canâ€™t do everything</strong> - Specialized agents for different domains work better</li>
  <li><strong>You need agents to collaborate</strong> - Customer support needs product data, order systems need inventory info</li>
  <li><strong>Different teams build different agents</strong> - You want to integrate agents from external vendors</li>
  <li><strong>Agents may use different languages/frameworks</strong> - You need a standard communication protocol</li>
</ul>

<h3 id="-the-solution-a2a-protocol">âœ… The Solution: A2A Protocol</h3>

<p>The <a href="https://a2a-protocol.org/">Agent2Agent (A2A) Protocol</a> is a <strong>standard</strong> that allows agents to:</p>
<ul>
  <li>âœ¨ <strong>Communicate over networks</strong> - Agents can be on different machines</li>
  <li>âœ¨ <strong>Use each otherâ€™s capabilities</strong> - One agent can call another agent like a tool</li>
  <li>âœ¨ <strong>Work across frameworks</strong> - Language/framework agnostic</li>
  <li>âœ¨ <strong>Maintain formal contracts</strong> - Agent cards describe capabilities</li>
</ul>

<h3 id="ï¸-common-a2a-architecture-patterns">ğŸ—ï¸ Common A2A Architecture Patterns</h3>

<p>The A2A protocol is particularly useful in three scenarios:</p>

<p><img src="https://storage.googleapis.com/github-repo/kaggle-5days-ai/day5/a2a_01.png" alt="When to choose A2A?" /></p>

<ol>
  <li><strong>Cross-Framework Integration</strong>: ADK agent communicating with other agent frameworks</li>
  <li><strong>Cross-Language Communication</strong>: Python agent calling Java or Node.js agent</li>
  <li><strong>Cross-Organization Boundaries</strong>: Your internal agent integrating with external vendor services</li>
</ol>

<h3 id="-what-this-notebook-demonstrates">ğŸ“‹ What This Notebook Demonstrates</h3>

<p>Weâ€™ll build a practical e-commerce integration:</p>
<ol>
  <li><strong>Product Catalog Agent</strong> (exposed via A2A) - External vendor service that provides product information</li>
  <li><strong>Customer Support Agent</strong> (consumer) - Your internal agent that helps customers by querying product data</li>
</ol>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Customer Support     â”‚  â”€A2Aâ”€â”€â–¶  â”‚ Product Catalog      â”‚
â”‚ Agent (Consumer)     â”‚           â”‚ Agent (Vendor)       â”‚
â”‚ Your Company         â”‚           â”‚ External Service     â”‚
â”‚ (localhost:8000)     â”‚           â”‚ (localhost:8001)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div></div>

<p><strong>Why this justifies A2A:</strong></p>
<ul>
  <li>Product Catalog is maintained by an external vendor (you canâ€™t modify their code)</li>
  <li>Different organizations with separate systems</li>
  <li>Formal contract needed between services</li>
  <li>Product Catalog could be in a different language/framework</li>
</ul>

<h3 id="-a2a-vs-local-sub-agents-decision-table">ğŸ’¡ A2A vs Local Sub-Agents: Decision Table</h3>

<table>
  <thead>
    <tr>
      <th>Factor</th>
      <th>Use A2A</th>
      <th>Use Local Sub-Agents</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Agent Location</strong></td>
      <td>External service, different codebase</td>
      <td>Same codebase, internal</td>
    </tr>
    <tr>
      <td><strong>Ownership</strong></td>
      <td>Different team/organization</td>
      <td>Your team</td>
    </tr>
    <tr>
      <td><strong>Network</strong></td>
      <td>Agents on different machines</td>
      <td>Same process/machine</td>
    </tr>
    <tr>
      <td><strong>Performance</strong></td>
      <td>Network latency acceptable</td>
      <td>Need low latency</td>
    </tr>
    <tr>
      <td><strong>Language/Framework</strong></td>
      <td>Cross-language/framework needed</td>
      <td>Same language</td>
    </tr>
    <tr>
      <td><strong>Contract</strong></td>
      <td>Formal API contract required</td>
      <td>Internal interface</td>
    </tr>
    <tr>
      <td><strong>Example</strong></td>
      <td>External vendor product catalog</td>
      <td>Internal order processing steps</td>
    </tr>
  </tbody>
</table>

<h3 id="-tutorial-context">ğŸ“ Tutorial Context</h3>

<p><strong>In this tutorial</strong>, weâ€™ll simulate both agents locally (both running on localhost) for learning purposes. In production:</p>
<ul>
  <li>Product Catalog Agent would run on vendorâ€™s infrastructure (e.g., <code class="language-plaintext highlighter-rouge">https://vendor.com</code>)</li>
  <li>Customer Support Agent would run on your infrastructure</li>
  <li>Theyâ€™d communicate over the internet using A2A protocol</li>
</ul>

<p>This local simulation lets you learn A2A without needing to deploy services!</p>

<hr />

<h3 id="-what-well-build">ğŸ”„ What Weâ€™ll Build</h3>

<p>Hereâ€™s a high-level view of the system architecture youâ€™ll create in this tutorial:</p>

<p><img src="https://storage.googleapis.com/github-repo/kaggle-5days-ai/day5/a2a_02.png" alt="" /></p>

<p><strong>How it works:</strong></p>
<ol>
  <li><strong>Customer</strong> asks a product question to your Customer Support Agent</li>
  <li><strong>Support Agent</strong> realizes it needs product information</li>
  <li><strong>Support Agent</strong> calls the <strong>Product Catalog Agent</strong> via A2A protocol</li>
  <li><strong>Product Catalog Agent</strong> (external vendor) returns product data</li>
  <li><strong>Support Agent</strong> formulates an answer and responds to the customer</li>
</ol>

<hr />

<h3 id="ï¸-tutorial-steps">ğŸ—ºï¸ Tutorial Steps</h3>

<p>In this tutorial, youâ€™ll complete <strong>6 steps</strong>:</p>

<ol>
  <li><strong>Create the Product Catalog Agent</strong> - Build the vendorâ€™s agent with product lookup</li>
  <li><strong>Expose via A2A</strong> - Make it accessible using <code class="language-plaintext highlighter-rouge">to_a2a()</code></li>
  <li><strong>Start the Server</strong> - Run the agent as a background service</li>
  <li><strong>Create the Customer Support Agent</strong> - Build the consumer agent</li>
  <li><strong>Test Communication</strong> - See A2A in action with real queries</li>
  <li><strong>Understand the Flow</strong> - Learn what happened behind the scenes</li>
</ol>

<p>Letâ€™s get started! ğŸš€</p>

<h2 id="ï¸-setup">âš™ï¸ Setup</h2>

<p>Before we go into todayâ€™s concepts, follow the steps below to set up the environment.</p>

<h3 id="install-dependencies">Install dependencies</h3>

<p>The Kaggle Notebooks environment includes a pre-installed version of the <a href="https://google.github.io/adk-docs/">google-adk</a> library for Python and its required dependencies, so you donâ€™t need to install additional packages in this notebook.</p>

<p>To install and use ADK, including A2A and its dependencies, in your own Python development environment outside of this course, you can do so by running:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip install -q google-adk[a2a]
</code></pre></div></div>

<h3 id="configure-your-gemini-api-key">Configure your Gemini API Key</h3>

<p>This notebook uses the <a href="https://ai.google.dev/gemini-api/">Gemini API</a>, which requires an API key.</p>

<p><strong>1. Get your API key</strong></p>

<p>If you donâ€™t have one already, create an <a href="https://aistudio.google.com/app/api-keys">API key in Google AI Studio</a>.</p>

<p><strong>2. Add the key to Kaggle Secrets</strong></p>

<p>Next, you will need to add your API key to your Kaggle Notebook as a Kaggle User Secret.</p>

<ol>
  <li>In the top menu bar of the notebook editor, select <code class="language-plaintext highlighter-rouge">Add-ons</code> then <code class="language-plaintext highlighter-rouge">Secrets</code>.</li>
  <li>Create a new secret with the label <code class="language-plaintext highlighter-rouge">GOOGLE_API_KEY</code>.</li>
  <li>Paste your API key into the â€œValueâ€ field and click â€œSaveâ€.</li>
  <li>Ensure that the checkbox next to <code class="language-plaintext highlighter-rouge">GOOGLE_API_KEY</code> is selected so that the secret is attached to the notebook.</li>
</ol>

<p><strong>3. Authenticate in the notebook</strong></p>

<p>Run the cell below to access the <code class="language-plaintext highlighter-rouge">GOOGLE_API_KEY</code> you just saved and set it as an environment variable for the notebook to use:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">os</span>
<span class="kn">from</span> <span class="n">kaggle_secrets</span> <span class="kn">import</span> <span class="n">UserSecretsClient</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">GOOGLE_API_KEY</span> <span class="o">=</span> <span class="nc">UserSecretsClient</span><span class="p">().</span><span class="nf">get_secret</span><span class="p">(</span><span class="sh">"</span><span class="s">GOOGLE_API_KEY</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">[</span><span class="sh">"</span><span class="s">GOOGLE_API_KEY</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="n">GOOGLE_API_KEY</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">âœ… Setup and authentication complete.</span><span class="sh">"</span><span class="p">)</span>
<span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span>
        <span class="sa">f</span><span class="sh">"</span><span class="s">ğŸ”‘ Authentication Error: Please make sure you have added </span><span class="sh">'</span><span class="s">GOOGLE_API_KEY</span><span class="sh">'</span><span class="s"> to your Kaggle secrets. Details: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span>
    <span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>âœ… Setup and authentication complete.
</code></pre></div></div>

<h3 id="import-adk-components">Import ADK components</h3>

<p>Now, import the specific components youâ€™ll need from the Agent Development Kit and the Generative AI library. This keeps your code organized and ensures we have access to the necessary building blocks.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">json</span>
<span class="kn">import</span> <span class="n">requests</span>
<span class="kn">import</span> <span class="n">subprocess</span>
<span class="kn">import</span> <span class="n">time</span>
<span class="kn">import</span> <span class="n">uuid</span>

<span class="kn">from</span> <span class="n">google.adk.agents</span> <span class="kn">import</span> <span class="n">LlmAgent</span>
<span class="kn">from</span> <span class="n">google.adk.agents.remote_a2a_agent</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">RemoteA2aAgent</span><span class="p">,</span>
    <span class="n">AGENT_CARD_WELL_KNOWN_PATH</span><span class="p">,</span>
<span class="p">)</span>

<span class="kn">from</span> <span class="n">google.adk.a2a.utils.agent_to_a2a</span> <span class="kn">import</span> <span class="n">to_a2a</span>
<span class="kn">from</span> <span class="n">google.adk.models.google_llm</span> <span class="kn">import</span> <span class="n">Gemini</span>
<span class="kn">from</span> <span class="n">google.adk.runners</span> <span class="kn">import</span> <span class="n">Runner</span>
<span class="kn">from</span> <span class="n">google.adk.sessions</span> <span class="kn">import</span> <span class="n">InMemorySessionService</span>
<span class="kn">from</span> <span class="n">google.genai</span> <span class="kn">import</span> <span class="n">types</span>

<span class="c1"># Hide additional warnings in the notebook
</span><span class="kn">import</span> <span class="n">warnings</span>

<span class="n">warnings</span><span class="p">.</span><span class="nf">filterwarnings</span><span class="p">(</span><span class="sh">"</span><span class="s">ignore</span><span class="sh">"</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">âœ… ADK components imported successfully.</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>âœ… ADK components imported successfully.
</code></pre></div></div>

<h3 id="configure-retry-options">Configure Retry Options</h3>

<p>When working with LLMs, you may encounter transient errors like rate limits or temporary service unavailability. Retry options automatically handle these failures by retrying the request with exponential backoff.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">retry_config</span> <span class="o">=</span> <span class="n">types</span><span class="p">.</span><span class="nc">HttpRetryOptions</span><span class="p">(</span>
    <span class="n">attempts</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>  <span class="c1"># Maximum retry attempts
</span>    <span class="n">exp_base</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>  <span class="c1"># Delay multiplier
</span>    <span class="n">initial_delay</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">http_status_codes</span><span class="o">=</span><span class="p">[</span><span class="mi">429</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">503</span><span class="p">,</span> <span class="mi">504</span><span class="p">],</span>  <span class="c1"># Retry on these HTTP errors
</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="-section-1-create-the-product-catalog-agent-to-be-exposed">ğŸ“¦ Section 1: Create the Product Catalog Agent (To Be Exposed)</h2>

<p>Weâ€™ll create a <strong>Product Catalog Agent</strong> that provides product information from an external vendorâ€™s catalog. This agent will be <strong>exposed via A2A</strong> so other agents (like customer support) can use it.</p>

<h3 id="why-expose-this-agent">Why expose this agent?</h3>
<ul>
  <li>In a real system, this would be maintained by an <strong>external vendor</strong> or third-party provider</li>
  <li>Your internal agents (customer support, sales, inventory) need product data</li>
  <li>The vendor <strong>controls their own codebase</strong> - you canâ€™t modify their implementation</li>
  <li>By exposing it via A2A, any authorized agent can consume it using the standard protocol</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Define a product catalog lookup tool
# In a real system, this would query the vendor's product database
</span><span class="k">def</span> <span class="nf">get_product_info</span><span class="p">(</span><span class="n">product_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">Get product information for a given product.

    Args:
        product_name: Name of the product (e.g., </span><span class="sh">"</span><span class="s">iPhone 15 Pro</span><span class="sh">"</span><span class="s">, </span><span class="sh">"</span><span class="s">MacBook Pro</span><span class="sh">"</span><span class="s">)

    Returns:
        Product information as a string
    </span><span class="sh">"""</span>
    <span class="c1"># Mock product catalog - in production, this would query a real database
</span>    <span class="n">product_catalog</span> <span class="o">=</span> <span class="p">{</span>
        <span class="sh">"</span><span class="s">iphone 15 pro</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">iPhone 15 Pro, $999, Low Stock (8 units), 128GB, Titanium finish</span><span class="sh">"</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">samsung galaxy s24</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Samsung Galaxy S24, $799, In Stock (31 units), 256GB, Phantom Black</span><span class="sh">"</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">dell xps 15</span><span class="sh">"</span><span class="p">:</span> <span class="sh">'</span><span class="s">Dell XPS 15, $1,299, In Stock (45 units), 15.6</span><span class="sh">"</span><span class="s"> display, 16GB RAM, 512GB SSD</span><span class="sh">'</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">macbook pro 14</span><span class="sh">"</span><span class="p">:</span> <span class="sh">'</span><span class="s">MacBook Pro 14</span><span class="sh">"</span><span class="s">, $1,999, In Stock (22 units), M3 Pro chip, 18GB RAM, 512GB SSD</span><span class="sh">'</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">sony wh-1000xm5</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Sony WH-1000XM5 Headphones, $399, In Stock (67 units), Noise-canceling, 30hr battery</span><span class="sh">"</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">ipad air</span><span class="sh">"</span><span class="p">:</span> <span class="sh">'</span><span class="s">iPad Air, $599, In Stock (28 units), 10.9</span><span class="sh">"</span><span class="s"> display, 64GB</span><span class="sh">'</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">lg ultrawide 34</span><span class="sh">"</span><span class="p">:</span> <span class="sh">'</span><span class="s">LG UltraWide 34</span><span class="sh">"</span><span class="s"> Monitor, $499, Out of Stock, Expected: Next week</span><span class="sh">'</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="n">product_lower</span> <span class="o">=</span> <span class="n">product_name</span><span class="p">.</span><span class="nf">lower</span><span class="p">().</span><span class="nf">strip</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">product_lower</span> <span class="ow">in</span> <span class="n">product_catalog</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="sh">"</span><span class="s">Product: </span><span class="si">{</span><span class="n">product_catalog</span><span class="p">[</span><span class="n">product_lower</span><span class="p">]</span><span class="si">}</span><span class="sh">"</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">available</span> <span class="o">=</span> <span class="sh">"</span><span class="s">, </span><span class="sh">"</span><span class="p">.</span><span class="nf">join</span><span class="p">([</span><span class="n">p</span><span class="p">.</span><span class="nf">title</span><span class="p">()</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">product_catalog</span><span class="p">.</span><span class="nf">keys</span><span class="p">()])</span>
        <span class="k">return</span> <span class="sa">f</span><span class="sh">"</span><span class="s">Sorry, I don</span><span class="sh">'</span><span class="s">t have information for </span><span class="si">{</span><span class="n">product_name</span><span class="si">}</span><span class="s">. Available products: </span><span class="si">{</span><span class="n">available</span><span class="si">}</span><span class="sh">"</span>


<span class="c1"># Create the Product Catalog Agent
# This agent specializes in providing product information from the vendor's catalog
</span><span class="n">product_catalog_agent</span> <span class="o">=</span> <span class="nc">LlmAgent</span><span class="p">(</span>
    <span class="n">model</span><span class="o">=</span><span class="nc">Gemini</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="sh">"</span><span class="s">gemini-2.5-flash-lite</span><span class="sh">"</span><span class="p">,</span> <span class="n">retry_options</span><span class="o">=</span><span class="n">retry_config</span><span class="p">),</span>
    <span class="n">name</span><span class="o">=</span><span class="sh">"</span><span class="s">product_catalog_agent</span><span class="sh">"</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="sh">"</span><span class="s">External vendor</span><span class="sh">'</span><span class="s">s product catalog agent that provides product information and availability.</span><span class="sh">"</span><span class="p">,</span>
    <span class="n">instruction</span><span class="o">=</span><span class="sh">"""</span><span class="s">
    You are a product catalog specialist from an external vendor.
    When asked about products, use the get_product_info tool to fetch data from the catalog.
    Provide clear, accurate product information including price, availability, and specs.
    If asked about multiple products, look up each one.
    Be professional and helpful.
    </span><span class="sh">"""</span><span class="p">,</span>
    <span class="n">tools</span><span class="o">=</span><span class="p">[</span><span class="n">get_product_info</span><span class="p">],</span>  <span class="c1"># Register the product lookup tool
</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">âœ… Product Catalog Agent created successfully!</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">   Model: gemini-2.5-flash-lite</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">   Tool: get_product_info()</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">   Ready to be exposed via A2A...</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>âœ… Product Catalog Agent created successfully!
   Model: gemini-2.5-flash-lite
   Tool: get_product_info()
   Ready to be exposed via A2A...
</code></pre></div></div>

<h2 id="-section-2-expose-the-product-catalog-agent-via-a2a">ğŸŒ Section 2: Expose the Product Catalog Agent via A2A</h2>

<p>Now weâ€™ll use ADKâ€™s <code class="language-plaintext highlighter-rouge">to_a2a()</code> function to make our Product Catalog Agent accessible to other agents.</p>

<h3 id="what-to_a2a-does">What <code class="language-plaintext highlighter-rouge">to_a2a()</code> does:</h3>
<ul>
  <li>ğŸ”§ Wraps your agent in an A2A-compatible server (FastAPI/Starlette)</li>
  <li>ğŸ“‹ Auto-generates an <strong>agent card</strong> that includes:
    <ul>
      <li>Agent name, description, and version</li>
      <li>Skills (your tools/functions become â€œskillsâ€ in A2A)</li>
      <li>Protocol version and endpoints</li>
      <li>Input/output modes</li>
    </ul>
  </li>
  <li>ğŸŒ Serves the agent card at <code class="language-plaintext highlighter-rouge">/.well-known/agent-card.json</code> (standard A2A path)</li>
  <li>âœ¨ Handles all A2A protocol details (request/response formatting, task endpoints)</li>
</ul>

<p>This is the <strong>easiest way</strong> to expose an ADK agent via A2A!</p>

<p><strong>ğŸ’¡ Key Concept: Agent Cards</strong></p>

<p>An <strong>agent card</strong> is a JSON document that serves as a â€œbusiness cardâ€ for your agent. It describes:</p>
<ul>
  <li>What the agent does (name, description, version)</li>
  <li>What capabilities it has (skills, tools, functions)</li>
  <li>How to communicate with it (URL, protocol version, endpoints)</li>
</ul>

<p>Every A2A agent must publish its agent card at the standard path: <code class="language-plaintext highlighter-rouge">/.well-known/agent-card.json</code></p>

<p>Think of it as the â€œcontractâ€ that tells other agents how to work with your agent.</p>

<p>ğŸ“– <strong>Learn more:</strong></p>
<ul>
  <li><a href="https://google.github.io/adk-docs/a2a/quickstart-exposing/">Exposing Agents with ADK</a></li>
  <li><a href="https://a2a-protocol.org/latest/specification/">A2A Protocol Specification</a></li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Convert the product catalog agent to an A2A-compatible application
# This creates a FastAPI/Starlette app that:
#   1. Serves the agent at the A2A protocol endpoints
#   2. Provides an auto-generated agent card
#   3. Handles A2A communication protocol
</span><span class="n">product_catalog_a2a_app</span> <span class="o">=</span> <span class="nf">to_a2a</span><span class="p">(</span>
    <span class="n">product_catalog_agent</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">8001</span>  <span class="c1"># Port where this agent will be served
</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">âœ… Product Catalog Agent is now A2A-compatible!</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">   Agent will be served at: http://localhost:8001</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">   Agent card will be at: http://localhost:8001/.well-known/agent-card.json</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">   Ready to start the server...</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>âœ… Product Catalog Agent is now A2A-compatible!
   Agent will be served at: http://localhost:8001
   Agent card will be at: http://localhost:8001/.well-known/agent-card.json
   Ready to start the server...
</code></pre></div></div>

<h2 id="-section-3-start-the-product-catalog-agent-server">ğŸš€ Section 3: Start the Product Catalog Agent Server</h2>

<p>Weâ€™ll start the Product Catalog Agent server in the <strong>background</strong> using <code class="language-plaintext highlighter-rouge">uvicorn</code>, so it can serve requests from other agents.</p>

<h3 id="why-run-in-background">Why run in background?</h3>
<ul>
  <li>The server needs to keep running while we create and test the Customer Support Agent</li>
  <li>This simulates a real-world scenario where different agents run as separate services</li>
  <li>In production, the vendor would host this on their infrastructure</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># First, let's save the product catalog agent to a file that uvicorn can import
</span><span class="n">product_catalog_agent_code</span> <span class="o">=</span> <span class="sh">'''</span><span class="s">
import os
from google.adk.agents import LlmAgent
from google.adk.a2a.utils.agent_to_a2a import to_a2a
from google.adk.models.google_llm import Gemini
from google.genai import types

retry_config = types.HttpRetryOptions(
    attempts=5,  # Maximum retry attempts
    exp_base=7,  # Delay multiplier
    initial_delay=1,
    http_status_codes=[429, 500, 503, 504],  # Retry on these HTTP errors
)

def get_product_info(product_name: str) -&gt; str:
    </span><span class="sh">"""</span><span class="s">Get product information for a given product.</span><span class="sh">"""</span><span class="s">
    product_catalog = {
        </span><span class="sh">"</span><span class="s">iphone 15 pro</span><span class="sh">"</span><span class="s">: </span><span class="sh">"</span><span class="s">iPhone 15 Pro, $999, Low Stock (8 units), 128GB, Titanium finish</span><span class="sh">"</span><span class="s">,
        </span><span class="sh">"</span><span class="s">samsung galaxy s24</span><span class="sh">"</span><span class="s">: </span><span class="sh">"</span><span class="s">Samsung Galaxy S24, $799, In Stock (31 units), 256GB, Phantom Black</span><span class="sh">"</span><span class="s">,
        </span><span class="sh">"</span><span class="s">dell xps 15</span><span class="sh">"</span><span class="s">: </span><span class="sh">"</span><span class="s">Dell XPS 15, $1,299, In Stock (45 units), 15.6</span><span class="se">\\</span><span class="sh">"</span><span class="s"> display, 16GB RAM, 512GB SSD</span><span class="sh">"</span><span class="s">,
        </span><span class="sh">"</span><span class="s">macbook pro 14</span><span class="sh">"</span><span class="s">: </span><span class="sh">"</span><span class="s">MacBook Pro 14</span><span class="se">\\</span><span class="sh">"</span><span class="s">, $1,999, In Stock (22 units), M3 Pro chip, 18GB RAM, 512GB SSD</span><span class="sh">"</span><span class="s">,
        </span><span class="sh">"</span><span class="s">sony wh-1000xm5</span><span class="sh">"</span><span class="s">: </span><span class="sh">"</span><span class="s">Sony WH-1000XM5 Headphones, $399, In Stock (67 units), Noise-canceling, 30hr battery</span><span class="sh">"</span><span class="s">,
        </span><span class="sh">"</span><span class="s">ipad air</span><span class="sh">"</span><span class="s">: </span><span class="sh">"</span><span class="s">iPad Air, $599, In Stock (28 units), 10.9</span><span class="se">\\</span><span class="sh">"</span><span class="s"> display, 64GB</span><span class="sh">"</span><span class="s">,
        </span><span class="sh">"</span><span class="s">lg ultrawide 34</span><span class="sh">"</span><span class="s">: </span><span class="sh">"</span><span class="s">LG UltraWide 34</span><span class="se">\\</span><span class="sh">"</span><span class="s"> Monitor, $499, Out of Stock, Expected: Next week</span><span class="sh">"</span><span class="s">,
    }
    
    product_lower = product_name.lower().strip()
    
    if product_lower in product_catalog:
        return f</span><span class="sh">"</span><span class="s">Product: {product_catalog[product_lower]}</span><span class="sh">"</span><span class="s">
    else:
        available = </span><span class="sh">"</span><span class="s">, </span><span class="sh">"</span><span class="s">.join([p.title() for p in product_catalog.keys()])
        return f</span><span class="sh">"</span><span class="s">Sorry, I don</span><span class="sh">'</span><span class="s">t have information for {product_name}. Available products: {available}</span><span class="sh">"</span><span class="s">

product_catalog_agent = LlmAgent(
    model=Gemini(model=</span><span class="sh">"</span><span class="s">gemini-2.5-flash-lite</span><span class="sh">"</span><span class="s">, retry_options=retry_config),
    name=</span><span class="sh">"</span><span class="s">product_catalog_agent</span><span class="sh">"</span><span class="s">,
    description=</span><span class="sh">"</span><span class="s">External vendor</span><span class="sh">'</span><span class="s">s product catalog agent that provides product information and availability.</span><span class="sh">"</span><span class="s">,
    instruction=</span><span class="sh">"""</span><span class="s">
    You are a product catalog specialist from an external vendor.
    When asked about products, use the get_product_info tool to fetch data from the catalog.
    Provide clear, accurate product information including price, availability, and specs.
    If asked about multiple products, look up each one.
    Be professional and helpful.
    </span><span class="sh">"""</span><span class="s">,
    tools=[get_product_info]
)

# Create the A2A app
app = to_a2a(product_catalog_agent, port=8001)
</span><span class="sh">'''</span>

<span class="c1"># Write the product catalog agent to a temporary file
</span><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">/tmp/product_catalog_server.py</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">w</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="n">product_catalog_agent_code</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">ğŸ“ Product Catalog agent code saved to /tmp/product_catalog_server.py</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># Start uvicorn server in background
# Note: We redirect output to avoid cluttering the notebook
</span><span class="n">server_process</span> <span class="o">=</span> <span class="n">subprocess</span><span class="p">.</span><span class="nc">Popen</span><span class="p">(</span>
    <span class="p">[</span>
        <span class="sh">"</span><span class="s">uvicorn</span><span class="sh">"</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">product_catalog_server:app</span><span class="sh">"</span><span class="p">,</span>  <span class="c1"># Module:app format
</span>        <span class="sh">"</span><span class="s">--host</span><span class="sh">"</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">localhost</span><span class="sh">"</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">--port</span><span class="sh">"</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">8001</span><span class="sh">"</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="n">cwd</span><span class="o">=</span><span class="sh">"</span><span class="s">/tmp</span><span class="sh">"</span><span class="p">,</span>  <span class="c1"># Run from /tmp where the file is
</span>    <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="p">.</span><span class="n">PIPE</span><span class="p">,</span>
    <span class="n">stderr</span><span class="o">=</span><span class="n">subprocess</span><span class="p">.</span><span class="n">PIPE</span><span class="p">,</span>
    <span class="n">env</span><span class="o">=</span><span class="p">{</span><span class="o">**</span><span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">},</span>  <span class="c1"># Pass environment variables (including GOOGLE_API_KEY)
</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">ğŸš€ Starting Product Catalog Agent server...</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">   Waiting for server to be ready...</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># Wait for server to start (poll until it responds)
</span><span class="n">max_attempts</span> <span class="o">=</span> <span class="mi">30</span>
<span class="k">for</span> <span class="n">attempt</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">max_attempts</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span>
            <span class="sh">"</span><span class="s">http://localhost:8001/.well-known/agent-card.json</span><span class="sh">"</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">1</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="se">\n</span><span class="s">âœ… Product Catalog Agent server is running!</span><span class="sh">"</span><span class="p">)</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">   Server URL: http://localhost:8001</span><span class="sh">"</span><span class="p">)</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">   Agent card: http://localhost:8001/.well-known/agent-card.json</span><span class="sh">"</span><span class="p">)</span>
            <span class="k">break</span>
    <span class="k">except</span> <span class="n">requests</span><span class="p">.</span><span class="n">exceptions</span><span class="p">.</span><span class="n">RequestException</span><span class="p">:</span>
        <span class="n">time</span><span class="p">.</span><span class="nf">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">.</span><span class="sh">"</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="sh">""</span><span class="p">,</span> <span class="n">flush</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">âš ï¸  Server may not be ready yet. Check manually if needed.</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># Store the process so we can stop it later
</span><span class="nf">globals</span><span class="p">()[</span><span class="sh">"</span><span class="s">product_catalog_server_process</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="n">server_process</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ğŸ“ Product Catalog agent code saved to /tmp/product_catalog_server.py
ğŸš€ Starting Product Catalog Agent server...
   Waiting for server to be ready...
......
âœ… Product Catalog Agent server is running!
   Server URL: http://localhost:8001
   Agent card: http://localhost:8001/.well-known/agent-card.json
</code></pre></div></div>

<h3 id="-view-the-auto-generated-agent-card">ğŸ” View the Auto-Generated Agent Card</h3>

<p>The <code class="language-plaintext highlighter-rouge">to_a2a()</code> function automatically created an <strong>agent card</strong> that describes the Product Catalog Agentâ€™s capabilities. Letâ€™s take a look!</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Fetch the agent card from the running server
</span><span class="k">try</span><span class="p">:</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span>
        <span class="sh">"</span><span class="s">http://localhost:8001/.well-known/agent-card.json</span><span class="sh">"</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">5</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
        <span class="n">agent_card</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="nf">json</span><span class="p">()</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">ğŸ“‹ Product Catalog Agent Card:</span><span class="sh">"</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="nf">dumps</span><span class="p">(</span><span class="n">agent_card</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>

        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">âœ¨ Key Information:</span><span class="sh">"</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">   Name: </span><span class="si">{</span><span class="n">agent_card</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">'</span><span class="s">name</span><span class="sh">'</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">   Description: </span><span class="si">{</span><span class="n">agent_card</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">'</span><span class="s">description</span><span class="sh">'</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">   URL: </span><span class="si">{</span><span class="n">agent_card</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">'</span><span class="s">url</span><span class="sh">'</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">   Skills: </span><span class="si">{</span><span class="nf">len</span><span class="p">(</span><span class="n">agent_card</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">'</span><span class="s">skills</span><span class="sh">'</span><span class="p">,</span> <span class="p">[]))</span><span class="si">}</span><span class="s"> capabilities exposed</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">âŒ Failed to fetch agent card: </span><span class="si">{</span><span class="n">response</span><span class="p">.</span><span class="n">status_code</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="k">except</span> <span class="n">requests</span><span class="p">.</span><span class="n">exceptions</span><span class="p">.</span><span class="n">RequestException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">âŒ Error fetching agent card: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">   Make sure the Product Catalog Agent server is running (previous cell)</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ğŸ“‹ Product Catalog Agent Card:
{
  "capabilities": {},
  "defaultInputModes": [
    "text/plain"
  ],
  "defaultOutputModes": [
    "text/plain"
  ],
  "description": "External vendor's product catalog agent that provides product information and availability.",
  "name": "product_catalog_agent",
  "preferredTransport": "JSONRPC",
  "protocolVersion": "0.3.0",
  "skills": [
    {
      "description": "External vendor's product catalog agent that provides product information and availability. \n    I am a product catalog specialist from an external vendor.\n    When asked about products, use the get_product_info tool to fetch data from the catalog.\n    Provide clear, accurate product information including price, availability, and specs.\n    If asked about multiple products, look up each one.\n    Be professional and helpful.\n    ",
      "id": "product_catalog_agent",
      "name": "model",
      "tags": [
        "llm"
      ]
    },
    {
      "description": "Get product information for a given product.",
      "id": "product_catalog_agent-get_product_info",
      "name": "get_product_info",
      "tags": [
        "llm",
        "tools"
      ]
    }
  ],
  "supportsAuthenticatedExtendedCard": false,
  "url": "http://localhost:8001",
  "version": "0.0.1"
}

âœ¨ Key Information:
   Name: product_catalog_agent
   Description: External vendor's product catalog agent that provides product information and availability.
   URL: http://localhost:8001
   Skills: 2 capabilities exposed
</code></pre></div></div>

<h2 id="-section-4-create-the-customer-support-agent-consumer">ğŸ§ Section 4: Create the Customer Support Agent (Consumer)</h2>

<p>Now weâ€™ll create a <strong>Customer Support Agent</strong> that consumes the Product Catalog Agent using A2A.</p>

<h3 id="how-it-works">How it works:</h3>
<ol>
  <li>We use <code class="language-plaintext highlighter-rouge">RemoteA2aAgent</code> to create a <strong>client-side proxy</strong> for the Product Catalog Agent</li>
  <li>The Customer Support Agent can use the Product Catalog Agent like any other tool</li>
  <li>ADK handles all the A2A protocol communication behind the scenes</li>
</ol>

<p>This demonstrates the power of A2A: <strong>agents can collaborate as if they were local!</strong></p>

<p><strong>How RemoteA2aAgent works:</strong></p>
<ul>
  <li>Itâ€™s a <strong>client-side proxy</strong> that reads the remote agentâ€™s card</li>
  <li>Translates sub-agent calls into A2A protocol requests (HTTP POST to <code class="language-plaintext highlighter-rouge">/tasks</code>)</li>
  <li>Handles all the protocol details so you just use it like a regular sub-agent</li>
</ul>

<p>ğŸ“– <strong>Learn more:</strong></p>
<ul>
  <li><a href="https://google.github.io/adk-docs/a2a/quickstart-consuming/">Consuming Remote Agents with ADK</a></li>
  <li><a href="https://a2a-protocol.org/latest/topics/what-is-a2a/">What is A2A?</a></li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Create a RemoteA2aAgent that connects to our Product Catalog Agent
# This acts as a client-side proxy - the Customer Support Agent can use it like a local agent
</span><span class="n">remote_product_catalog_agent</span> <span class="o">=</span> <span class="nc">RemoteA2aAgent</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="sh">"</span><span class="s">product_catalog_agent</span><span class="sh">"</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="sh">"</span><span class="s">Remote product catalog agent from external vendor that provides product information.</span><span class="sh">"</span><span class="p">,</span>
    <span class="c1"># Point to the agent card URL - this is where the A2A protocol metadata lives
</span>    <span class="n">agent_card</span><span class="o">=</span><span class="sa">f</span><span class="sh">"</span><span class="s">http://localhost:8001</span><span class="si">{</span><span class="n">AGENT_CARD_WELL_KNOWN_PATH</span><span class="si">}</span><span class="sh">"</span><span class="p">,</span>
<span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">âœ… Remote Product Catalog Agent proxy created!</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">   Connected to: http://localhost:8001</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">   Agent card: http://localhost:8001</span><span class="si">{</span><span class="n">AGENT_CARD_WELL_KNOWN_PATH</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">   The Customer Support Agent can now use this like a local sub-agent!</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>âœ… Remote Product Catalog Agent proxy created!
   Connected to: http://localhost:8001
   Agent card: http://localhost:8001/.well-known/agent-card.json
   The Customer Support Agent can now use this like a local sub-agent!
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Now create the Customer Support Agent that uses the remote Product Catalog Agent
</span><span class="n">customer_support_agent</span> <span class="o">=</span> <span class="nc">LlmAgent</span><span class="p">(</span>
    <span class="n">model</span><span class="o">=</span><span class="nc">Gemini</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="sh">"</span><span class="s">gemini-2.5-flash-lite</span><span class="sh">"</span><span class="p">,</span> <span class="n">retry_options</span><span class="o">=</span><span class="n">retry_config</span><span class="p">),</span>
    <span class="n">name</span><span class="o">=</span><span class="sh">"</span><span class="s">customer_support_agent</span><span class="sh">"</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="sh">"</span><span class="s">A customer support assistant that helps customers with product inquiries and information.</span><span class="sh">"</span><span class="p">,</span>
    <span class="n">instruction</span><span class="o">=</span><span class="sh">"""</span><span class="s">
    You are a friendly and professional customer support agent.
    
    When customers ask about products:
    1. Use the product_catalog_agent sub-agent to look up product information
    2. Provide clear answers about pricing, availability, and specifications
    3. If a product is out of stock, mention the expected availability
    4. Be helpful and professional!
    
    Always get product information from the product_catalog_agent before answering customer questions.
    </span><span class="sh">"""</span><span class="p">,</span>
    <span class="n">sub_agents</span><span class="o">=</span><span class="p">[</span><span class="n">remote_product_catalog_agent</span><span class="p">],</span>  <span class="c1"># Add the remote agent as a sub-agent!
</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">âœ… Customer Support Agent created!</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">   Model: gemini-2.5-flash-lite</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">   Sub-agents: 1 (remote Product Catalog Agent via A2A)</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">   Ready to help customers!</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>âœ… Customer Support Agent created!
   Model: gemini-2.5-flash-lite
   Sub-agents: 1 (remote Product Catalog Agent via A2A)
   Ready to help customers!
</code></pre></div></div>

<h2 id="-section-5-test-a2a-communication">ğŸ§ª Section 5: Test A2A Communication</h2>

<p>Letâ€™s test the agent-to-agent communication! Weâ€™ll ask the Customer Support Agent about products, and it will communicate with the Product Catalog Agent via A2A.</p>

<h3 id="what-happens-behind-the-scenes">What happens behind the scenes:</h3>
<ol>
  <li>Customer asks Support Agent a question about a product</li>
  <li>Support Agent realizes it needs product info</li>
  <li>Support Agent calls the <code class="language-plaintext highlighter-rouge">remote_product_catalog_agent</code> (RemoteA2aAgent)</li>
  <li>ADK sends an A2A protocol request to <code class="language-plaintext highlighter-rouge">http://localhost:8001</code></li>
  <li>Product Catalog Agent processes the request and responds</li>
  <li>Support Agent receives the response and continues</li>
  <li>Customer gets the final answer</li>
</ol>

<p>All of this happens <strong>transparently</strong> - the Support Agent doesnâ€™t need to know itâ€™s talking to a remote agent!</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">async</span> <span class="k">def</span> <span class="nf">test_a2a_communication</span><span class="p">(</span><span class="n">user_query</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">
    Test the A2A communication between Customer Support Agent and Product Catalog Agent.

    This function:
    1. Creates a new session for this conversation
    2. Sends the query to the Customer Support Agent
    3. Support Agent communicates with Product Catalog Agent via A2A
    4. Displays the response

    Args:
        user_query: The question to ask the Customer Support Agent
    </span><span class="sh">"""</span>
    <span class="c1"># Setup session management (required by ADK)
</span>    <span class="n">session_service</span> <span class="o">=</span> <span class="nc">InMemorySessionService</span><span class="p">()</span>

    <span class="c1"># Session identifiers
</span>    <span class="n">app_name</span> <span class="o">=</span> <span class="sh">"</span><span class="s">support_app</span><span class="sh">"</span>
    <span class="n">user_id</span> <span class="o">=</span> <span class="sh">"</span><span class="s">demo_user</span><span class="sh">"</span>
    <span class="c1"># Use unique session ID for each test to avoid conflicts
</span>    <span class="n">session_id</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"</span><span class="s">demo_session_</span><span class="si">{</span><span class="n">uuid</span><span class="p">.</span><span class="nf">uuid4</span><span class="p">().</span><span class="nb">hex</span><span class="p">[</span><span class="si">:</span><span class="mi">8</span><span class="p">]</span><span class="si">}</span><span class="sh">"</span>

    <span class="c1"># CRITICAL: Create session BEFORE running agent (synchronous, not async!)
</span>    <span class="c1"># This pattern matches the deployment notebook exactly
</span>    <span class="n">session</span> <span class="o">=</span> <span class="k">await</span> <span class="n">session_service</span><span class="p">.</span><span class="nf">create_session</span><span class="p">(</span>
        <span class="n">app_name</span><span class="o">=</span><span class="n">app_name</span><span class="p">,</span> <span class="n">user_id</span><span class="o">=</span><span class="n">user_id</span><span class="p">,</span> <span class="n">session_id</span><span class="o">=</span><span class="n">session_id</span>
    <span class="p">)</span>

    <span class="c1"># Create runner for the Customer Support Agent
</span>    <span class="c1"># The runner manages the agent execution and session state
</span>    <span class="n">runner</span> <span class="o">=</span> <span class="nc">Runner</span><span class="p">(</span>
        <span class="n">agent</span><span class="o">=</span><span class="n">customer_support_agent</span><span class="p">,</span> <span class="n">app_name</span><span class="o">=</span><span class="n">app_name</span><span class="p">,</span> <span class="n">session_service</span><span class="o">=</span><span class="n">session_service</span>
    <span class="p">)</span>

    <span class="c1"># Create the user message
</span>    <span class="c1"># This follows the same pattern as the deployment notebook
</span>    <span class="n">test_content</span> <span class="o">=</span> <span class="n">types</span><span class="p">.</span><span class="nc">Content</span><span class="p">(</span><span class="n">parts</span><span class="o">=</span><span class="p">[</span><span class="n">types</span><span class="p">.</span><span class="nc">Part</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">user_query</span><span class="p">)])</span>

    <span class="c1"># Display query
</span>    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="se">\n</span><span class="s">ğŸ‘¤ Customer: </span><span class="si">{</span><span class="n">user_query</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="se">\n</span><span class="s">ğŸ§ Support Agent response:</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">-</span><span class="sh">"</span> <span class="o">*</span> <span class="mi">60</span><span class="p">)</span>

    <span class="c1"># Run the agent asynchronously (handles streaming responses and A2A communication)
</span>    <span class="k">async</span> <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">runner</span><span class="p">.</span><span class="nf">run_async</span><span class="p">(</span>
        <span class="n">user_id</span><span class="o">=</span><span class="n">user_id</span><span class="p">,</span> <span class="n">session_id</span><span class="o">=</span><span class="n">session_id</span><span class="p">,</span> <span class="n">new_message</span><span class="o">=</span><span class="n">test_content</span>
    <span class="p">):</span>
        <span class="c1"># Print final response only (skip intermediate events)
</span>        <span class="k">if</span> <span class="n">event</span><span class="p">.</span><span class="nf">is_final_response</span><span class="p">()</span> <span class="ow">and</span> <span class="n">event</span><span class="p">.</span><span class="n">content</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">event</span><span class="p">.</span><span class="n">content</span><span class="p">.</span><span class="n">parts</span><span class="p">:</span>
                <span class="k">if</span> <span class="nf">hasattr</span><span class="p">(</span><span class="n">part</span><span class="p">,</span> <span class="sh">"</span><span class="s">text</span><span class="sh">"</span><span class="p">):</span>
                    <span class="nf">print</span><span class="p">(</span><span class="n">part</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>

    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">-</span><span class="sh">"</span> <span class="o">*</span> <span class="mi">60</span><span class="p">)</span>


<span class="c1"># Run the test
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">ğŸ§ª Testing A2A Communication...</span><span class="se">\n</span><span class="sh">"</span><span class="p">)</span>
<span class="k">await</span> <span class="nf">test_a2a_communication</span><span class="p">(</span><span class="sh">"</span><span class="s">Can you tell me about the iPhone 15 Pro? Is it in stock?</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ğŸ§ª Testing A2A Communication...


ğŸ‘¤ Customer: Can you tell me about the iPhone 15 Pro? Is it in stock?

ğŸ§ Support Agent response:
------------------------------------------------------------


INFO:google_adk.google.adk.models.google_llm:Sending out request, model: gemini-2.5-flash-lite, backend: GoogleLLMVariant.GEMINI_API, stream: False
INFO:google_adk.google.adk.models.google_llm:Response received from the model.
WARNING:google_genai.types:Warning: there are non-text parts in the response: ['function_call'], returning concatenated text result from text parts. Check the full candidates.content.parts accessor to get the full model response.
INFO:google_adk.google.adk.agents.remote_a2a_agent:Successfully resolved remote A2A agent: product_catalog_agent


The iPhone 15 Pro is available for $999. We have a low stock of 8 units remaining. It comes with a 128GB storage capacity and a titanium finish.
------------------------------------------------------------
</code></pre></div></div>

<h3 id="try-more-examples">Try More Examples</h3>

<p>Letâ€™s test a few more scenarios to see A2A communication in action!</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Test comparing multiple products
</span><span class="k">await</span> <span class="nf">test_a2a_communication</span><span class="p">(</span>
    <span class="sh">"</span><span class="s">I</span><span class="sh">'</span><span class="s">m looking for a laptop. Can you compare the Dell XPS 15 and MacBook Pro 14 for me?</span><span class="sh">"</span>
<span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>INFO:google_adk.google.adk.models.google_llm:Sending out request, model: gemini-2.5-flash-lite, backend: GoogleLLMVariant.GEMINI_API, stream: False



ğŸ‘¤ Customer: I'm looking for a laptop. Can you compare the Dell XPS 15 and MacBook Pro 14 for me?

ğŸ§ Support Agent response:
------------------------------------------------------------


INFO:google_adk.google.adk.models.google_llm:Response received from the model.
WARNING:google_genai.types:Warning: there are non-text parts in the response: ['function_call'], returning concatenated text result from text parts. Check the full candidates.content.parts accessor to get the full model response.


Certainly! Here's a comparison of the two laptops:

**Dell XPS 15:**
*   Price: $1,299
*   Availability: In Stock (45 units)
*   Display: 15.6"
*   RAM: 16GB
*   Storage: 512GB SSD

**MacBook Pro 14":**
*   Price: $1,999
*   Availability: In Stock (22 units)
*   Chip: M3 Pro
*   RAM: 18GB
*   Storage: 512GB SSD

The MacBook Pro 14" is more expensive and has slightly more RAM, while the Dell XPS 15 offers a larger display. Both have the same storage capacity.

Let me know if you'd like more details on either model!
------------------------------------------------------------
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Test specific product inquiry
</span><span class="k">await</span> <span class="nf">test_a2a_communication</span><span class="p">(</span>
    <span class="sh">"</span><span class="s">Do you have the Sony WH-1000XM5 headphones? What</span><span class="sh">'</span><span class="s">s the price?</span><span class="sh">"</span>
<span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>INFO:google_adk.google.adk.models.google_llm:Sending out request, model: gemini-2.5-flash-lite, backend: GoogleLLMVariant.GEMINI_API, stream: False



ğŸ‘¤ Customer: Do you have the Sony WH-1000XM5 headphones? What's the price?

ğŸ§ Support Agent response:
------------------------------------------------------------


INFO:google_adk.google.adk.models.google_llm:Response received from the model.
WARNING:google_genai.types:Warning: there are non-text parts in the response: ['function_call'], returning concatenated text result from text parts. Check the full candidates.content.parts accessor to get the full model response.


The Sony WH-1000XM5 headphones are available for $399 and are currently in stock, with 67 units available. They feature noise-canceling technology and a 30-hour battery life.
------------------------------------------------------------
</code></pre></div></div>

<h2 id="-section-6-understanding-what-just-happened">ğŸ” Section 6: Understanding What Just Happened</h2>

<h3 id="a2a-communication-flow">A2A Communication Flow</h3>

<p>When you ran the tests above, hereâ€™s the detailed step-by-step flow of how the agents communicated:</p>

<p><img src="https://storage.googleapis.com/github-repo/kaggle-5days-ai/day5/a2a_03.png" alt="" /></p>

<p><strong>A2A Protocol Communication:</strong></p>

<p>Behind the scenes, hereâ€™s what happens at the protocol level:</p>
<ul>
  <li><strong>RemoteA2aAgent</strong> sends HTTP POST requests to the <code class="language-plaintext highlighter-rouge">/tasks</code> endpoint on <code class="language-plaintext highlighter-rouge">http://localhost:8001</code></li>
  <li>Request and response data follow the <a href="https://a2a-protocol.org/latest/specification/">A2A Protocol Specification</a></li>
  <li>Data is exchanged in standardized JSON format</li>
  <li>The protocol ensures any A2A-compatible agent (regardless of language/framework) can communicate</li>
</ul>

<p>This standardization is what makes cross-organization, cross-language agent communication possible!</p>

<hr />

<p><strong>What happened:</strong></p>
<ol>
  <li><strong>Customer</strong> asked about the iPhone 15 Pro</li>
  <li><strong>Customer Support Agent</strong> (LlmAgent) received the question and decided it needs product information</li>
  <li><strong>Support Agent</strong> delegated to the <code class="language-plaintext highlighter-rouge">product_catalog_agent</code> sub-agent</li>
  <li><strong>RemoteA2aAgent</strong> (client-side proxy) translated this into an A2A protocol request</li>
  <li>The A2A request was sent over HTTP to <code class="language-plaintext highlighter-rouge">http://localhost:8001</code> (highlighted in yellow)</li>
  <li><strong>Product Catalog Agent</strong> (server) received the request and called <code class="language-plaintext highlighter-rouge">get_product_info("iPhone 15 Pro")</code></li>
  <li><strong>Product Catalog Agent</strong> returned the product information via A2A response</li>
  <li><strong>RemoteA2aAgent</strong> received the response and passed it back to the Support Agent</li>
  <li><strong>Support Agent</strong> formulated a final answer with the product details</li>
  <li><strong>Customer</strong> received the complete, helpful response</li>
</ol>

<h3 id="key-benefits-demonstrated">Key Benefits Demonstrated</h3>

<ol>
  <li><strong>Transparency</strong>: Support Agent doesnâ€™t â€œknowâ€ Product Catalog Agent is remote</li>
  <li><strong>Standard Protocol</strong>: Uses A2A standard - any A2A-compatible agent works</li>
  <li><strong>Easy Integration</strong>: Just one line: <code class="language-plaintext highlighter-rouge">sub_agents=[remote_product_catalog_agent]</code></li>
  <li><strong>Separation of Concerns</strong>: Product data lives in Catalog Agent (vendor), support logic in Support Agent (your company)</li>
</ol>

<h3 id="real-world-applications">Real-World Applications</h3>

<p>This pattern enables:</p>
<ul>
  <li><strong>Microservices</strong>: Each agent is an independent service</li>
  <li><strong>Third-party Integration</strong>: Consume agents from external vendors (e.g., product catalogs, payment processors)</li>
  <li><strong>Cross-language</strong>: Product Catalog Agent could be Java, Support Agent Python</li>
  <li><strong>Specialized Teams</strong>: Vendor maintains catalog, your team maintains support agent</li>
  <li><strong>Cross-Organization</strong>: Vendor hosts catalog on their infrastructure, you integrate via A2A</li>
</ul>

<h2 id="-next-steps-and-learning-resources">ğŸ“ Next Steps and Learning Resources</h2>

<h3 id="-enhancement-ideas">ğŸš€ Enhancement Ideas</h3>

<p>Now that you understand A2A basics, try extending this example:</p>

<ol>
  <li><strong>Add More Agents</strong>:
    <ul>
      <li>Create an <strong>Inventory Agent</strong> that checks stock levels and restocking schedules</li>
      <li>Create a <strong>Shipping Agent</strong> that provides delivery estimates and tracking</li>
      <li>Have Customer Support Agent coordinate all three via A2A</li>
    </ul>
  </li>
  <li><strong>Real Data Sources</strong>:
    <ul>
      <li>Replace mock product catalog with real database (PostgreSQL, MongoDB)</li>
      <li>Add real inventory tracking system integration</li>
      <li>Connect to real payment gateway APIs</li>
    </ul>
  </li>
  <li><strong>Advanced A2A Features</strong>:
    <ul>
      <li>Implement authentication between agents (API keys, OAuth)</li>
      <li>Add error handling and retries for network failures</li>
      <li>Use the alternative <code class="language-plaintext highlighter-rouge">adk api_server --a2a</code> approach</li>
    </ul>
  </li>
  <li><strong>Deploy to Production</strong>:
    <ul>
      <li>Deploy Product Catalog Agent to Agent Engine</li>
      <li>Update agent card URL to point to production server (e.g., <code class="language-plaintext highlighter-rouge">https://vendor-catalog.example.com</code>)</li>
      <li>Consumer agents can now access it over the internet!</li>
    </ul>
  </li>
</ol>

<h3 id="-documentation">ğŸ“š Documentation</h3>

<p><strong>A2A Protocol</strong>:</p>

<ul>
  <li><a href="https://a2a-protocol.org/">Official A2A Protocol Website</a></li>
  <li><a href="https://a2a-protocol.org/latest/spec/">A2A Protocol Specification</a></li>
</ul>

<p><strong>ADK A2A Guides</strong>:</p>

<ul>
  <li><a href="https://google.github.io/adk-docs/a2a/intro/">Introduction to A2A in ADK</a></li>
  <li><a href="https://google.github.io/adk-docs/a2a/quickstart-exposing/">Exposing Agents Quickstart</a></li>
  <li><a href="https://google.github.io/adk-docs/a2a/quickstart-consuming/">Consuming Agents Quickstart</a></li>
</ul>

<p><strong>Other Deployment Options</strong>:</p>

<ul>
  <li><a href="https://google.github.io/adk-docs/deploy/cloud-run/">Deploy ADK Agents to Cloud Run</a></li>
  <li><a href="https://google.github.io/adk-docs/deploy/agent-engine/">Deploy to Agent Engine</a></li>
  <li><a href="https://google.github.io/adk-docs/deploy/gke/">Deploy to GKE</a></li>
</ul>

<hr />

<h2 id="-summary---a2a-communication-patterns">ğŸ“Š Summary - A2A Communication Patterns</h2>

<h3 id="key-takeaways">Key Takeaways</h3>

<p>In this notebook, you learned how to build multi-agent systems with A2A:</p>

<ul>
  <li><strong>A2A Protocol</strong>: Standardized protocol for agent-to-agent communication across networks and frameworks</li>
  <li><strong>Exposing Agents</strong>: Use <code class="language-plaintext highlighter-rouge">to_a2a()</code> to make your agents accessible to others with auto-generated agent cards</li>
  <li><strong>Consuming Agents</strong>: Use <code class="language-plaintext highlighter-rouge">RemoteA2aAgent</code> to integrate remote agents as if they were local sub-agents</li>
  <li><strong>Use Cases</strong>: Best for microservices architectures, cross-team integrations, and third-party agent consumption</li>
</ul>

<hr />

<h2 id="-congratulations-youre-an-a2a-expert">âœ… Congratulations! Youâ€™re an A2A Expert</h2>

<p>Youâ€™ve successfully learned how to build multi-agent systems using the A2A protocol!</p>

<p>You now know how to expose agents as services, consume remote agents, and build collaborative multi-agent systems that can scale across teams and organizations.</p>

<h3 id="-learn-more">ğŸ“š Learn More</h3>

<p>Refer to the following documentation to learn more:</p>

<ul>
  <li><a href="https://google.github.io/adk-docs/">ADK Documentation</a></li>
  <li><a href="https://a2a-protocol.org/">A2A Protocol Official Website</a></li>
  <li><a href="https://a2a-protocol.org/latest/tutorials/">A2A Tutorials</a></li>
  <li><a href="https://google.github.io/adk-docs/a2a/intro/">Introduction to A2A in ADK</a></li>
  <li><a href="https://google.github.io/adk-docs/a2a/quickstart-exposing/">Exposing Agents Quickstart</a></li>
  <li><a href="https://google.github.io/adk-docs/a2a/quickstart-consuming/">Consuming Agents Quickstart</a></li>
</ul>

</article>

      </div>
    </main>
  </body>
</html>
